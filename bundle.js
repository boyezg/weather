(()=>{const t="ecb3e55762f486bb0b0756f28b9e76ff",e=document.getElementById("weather-form"),n=document.getElementById("location-input"),a=document.getElementById("loading"),o=document.getElementById("weather-display"),r=document.getElementById("city-name"),i=document.getElementById("temperature"),s=document.getElementById("description");e.addEventListener("submit",(async e=>{e.preventDefault();const c=n.value.trim();if(c){a.classList.remove("hidden"),o.classList.add("hidden");try{const e=await async function(e){const n=`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=${t}`,a=await fetch(n);if(!a.ok)throw console.error(`Error: ${a.status} - ${a.statusText}`),new Error("Failed to fetch coordinates");const o=await a.json();if(0===o.length)throw new Error("Location not found. Please try again.");return{lat:o[0].lat,lon:o[0].lon,name:o[0].name}}(c);!function(t){r.textContent=`City: ${t.city}`,i.textContent=`Temperature: ${t.temp}Â°C`,s.textContent=`Description: ${t.desc}`,o.classList.remove("hidden")}((d=await async function(e,n){const a=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${n}&units=metric&appid=${t}`,o=await fetch(a);if(!o.ok)throw console.error(`Error: ${o.status} - ${o.statusText}`),new Error("Failed to fetch weather data");return o.json()}(e.lat,e.lon),{city:e.name,temp:d.main.temp,desc:d.weather[0].description}))}catch(t){alert(t.message)}finally{a.classList.add("hidden")}var d}}))})();